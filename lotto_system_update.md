# ğŸ± ë¡œë˜ AI ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸ ë¬¸ì„œ (v2026.1)

> ìµœì¢… ì—…ë°ì´íŠ¸: 2026-01-03 (ì‘ì„±ì: Gemini, Antigravity)

---

## 1. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ (Current Architecture)

í˜„ì¬ ì‹œìŠ¤í…œì€ **Client-side First** ì „ëµì„ ë”°ë¥´ë©°, ì„œë²„ë¦¬ìŠ¤ í™˜ê²½(Vercel + Supabase)ê³¼ ì •ì  AI ì¶”ë¡ (ONNX)ì„ ê²°í•©í•˜ì—¬ ë¹„ìš© íš¨ìœ¨ì„±ê³¼ í™•ì¥ì„±ì„ ê·¹ëŒ€í™”í–ˆìŠµë‹ˆë‹¤.

### 1.1 í•µì‹¬ êµ¬ì„± ìš”ì†Œ

| êµ¬ë¶„ | ê¸°ìˆ  ìŠ¤íƒ | ì„¤ëª… | ìƒíƒœ |
| :--- | :--- | :--- | :--- |
| **Frontend** | **Vanilla JS + HTML** | `web/` í´ë”. ê²½ëŸ‰í™”ëœ UI, Tailwind CSS ìŠ¤íƒ€ì¼ë§. | âœ… **Active** (Main) |
| **AI Inference** | **ONNX Runtime Web** | `web-static/` í´ë”. ë¸Œë¼ìš°ì € ë‚´ì—ì„œ ëª¨ë¸ ì¶”ë¡  ì‹¤í–‰. | âœ… **Active** |
| **Backend** | **Supabase** | PostgreSQL DB + Edge Functions (ì˜ˆì •). | âœ… **In Progress** |
| **Legacy UI** | Quasar (Vue 3) | `web-vue/` í´ë”. ëª¨ë°”ì¼ ì•± ì „í™˜ìš© (í˜„ì¬ ë³´ë¥˜). | â¸ï¸ **Paused** |

### 1.2 ë°°í¬ ì „ëµ
- **Static Hosting**: Vercelì„ í†µí•´ `web/` ë° `web-static/` ì •ì  íŒŒì¼ ë°°í¬.
- **Database**: Supabaseë¥¼ í†µí•´ ë‹¹ì²¨ ë°ì´í„°(`draws`) ë° ì‚¬ìš©ì ê¸°ë¡(`history`) ê´€ë¦¬.
- **Model Storage**: `web-static/models/` ê²½ë¡œì— êµ­ê°€ë³„ ONNX ëª¨ë¸ ì €ì¥ ë° ì„œë¹™.

---

## 2. í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
lotto/
â”œâ”€â”€ api/                     # Python ë°±ì—”ë“œ (ë¡œì»¬/í…ŒìŠ¤íŠ¸ìš©)
â”œâ”€â”€ config/                  # ê¸€ë¡œë²Œ ì„¤ì •
â”‚   â”œâ”€â”€ lotteries.json       # êµ­ê°€ë³„ ë¡œë˜ ì„¤ì • (Ball Count, Range ë“±)
â”‚   â””â”€â”€ training_config.json # AI í•™ìŠµ íŒŒë¼ë¯¸í„°
â”œâ”€â”€ data/                    # ë¡œì»¬ ë°ì´í„° (JSON)
â”œâ”€â”€ docs/                    # í”„ë¡œì íŠ¸ ë¬¸ì„œ
â”œâ”€â”€ models_ai/               # AI ëª¨ë¸ ì†ŒìŠ¤ (PyTorch)
â”‚   â”œâ”€â”€ src/transformer/     # Transformer ëª¨ë¸ í•™ìŠµ ì½”ë“œ
â”‚   â”œâ”€â”€ src/lstm/            # LSTM ëª¨ë¸ í•™ìŠµ ì½”ë“œ
â”‚   â””â”€â”€ trained/             # í•™ìŠµëœ .pt íŒŒì¼ ì €ì¥ì†Œ
â”œâ”€â”€ scripts/                 # ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸
â”‚   â””â”€â”€ convert_to_onnx.py   # PyTorch -> ONNX ë³€í™˜ê¸° (Multi-Lottery ì§€ì›)
â”œâ”€â”€ web/                     # ë©”ì¸ ì›¹ í”„ë¡ íŠ¸ì—”ë“œ (HTML/JS)
â”‚   â”œâ”€â”€ js/app.js            # í•µì‹¬ ë¡œì§ (ëª¨ë¸ ë¡œë“œ, ë²ˆí˜¸ ìƒì„±)
â”‚   â””â”€â”€ index.html           # UI
â”œâ”€â”€ web-static/              # ì •ì  ë°°í¬ ë¦¬ì†ŒìŠ¤
â”‚   â””â”€â”€ models/              # ONNX ëª¨ë¸ ì €ì¥ì†Œ
â”‚       â”œâ”€â”€ transformer/     # [type]/[id].onnx êµ¬ì¡°
â”‚       â””â”€â”€ lstm/
â””â”€â”€ web-vue/                 # (Paused) Quasar í”„ë¡ íŠ¸ì—”ë“œ
```

---

## 3. AI ëª¨ë¸ ë° ONNX (Key Update)

### 3.1 ë‹¤ì¤‘ ë¡œë˜ ì§€ì› (Multi-Lottery Support)
ê¸°ì¡´ ë‹¨ì¼ ëª¨ë¸ êµ¬ì¡°ì—ì„œ **êµ­ê°€ë³„/ë¡œë˜ë³„ ì „ìš© ëª¨ë¸** ì§€ì› êµ¬ì¡°ë¡œ í™•ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.

- **í´ë” êµ¬ì¡°**:
  - `web-static/models/transformer/korea_645.onnx`
  - `web-static/models/lstm/usa_powerball.onnx`
  - ...

- **Fallback ë¡œì§ (Frontend)**:
  - íŠ¹ì • ë¡œë˜ì˜ ONNX ëª¨ë¸ ë¡œë“œ ì‹¤íŒ¨ ì‹œ(ì˜ˆ: Japan Loto 6 Transformer), ìë™ìœ¼ë¡œ **`korea_645.onnx` (ëŒ€í‘œ ëª¨ë¸)**ì„ ë¡œë“œí•˜ì—¬ ì¤‘ë‹¨ ì—†ì´ ì‘ë™í•©ë‹ˆë‹¤.
  - ëª¨ë¸ ë¡œë“œ í›„, í˜„ì¬ ë¡œë˜ ì„¤ì •(`ball_count`, `ball_range`)ì— ë§ì¶° ì…ì¶œë ¥ì„ ë™ì ìœ¼ë¡œ ì¡°ì •í•©ë‹ˆë‹¤.

### 3.2 ìš©ì–´ ë³€ê²½ (Standardization)
ì½”ë“œì™€ ë¬¸ì„œì˜ í˜¼ì„ ì„ ë§‰ê¸° ìœ„í•´ ìš©ì–´ë¥¼ í†µì¼í–ˆìŠµë‹ˆë‹¤.

| ë³€ê²½ ì „ | **ë³€ê²½ í›„** | ì˜ë¯¸ |
| :--- | :--- | :--- |
| `history_length` | **`draw_length`** | AI ëª¨ë¸ ì…ë ¥ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” **ê³¼ê±° íšŒì°¨ ìˆ˜** (ê¸°ë³¸ê°’: 10) |
| `num_numbers` | `ball_ranges` | ë¡œë˜ ë²ˆí˜¸ì˜ ë²”ìœ„ (ì˜ˆ: 45) |
| (New) | **`ball_count`** | í•œ ê²Œì„ë‹¹ ì¶”ì²¨í•˜ëŠ” **ê³µì˜ ê°œìˆ˜** (ì¶œë ¥ ê¸¸ì´, ì˜ˆ: 6) |

> **ì£¼ì˜**: `req.count`ëŠ” **ìƒì„±í•  ê²Œì„ ìˆ˜**(ì¤„ ìˆ˜)ë¥¼ ì˜ë¯¸í•˜ë©°, `draw_length`ë‚˜ `ball_count`ì™€ëŠ” ë‹¤ë¦…ë‹ˆë‹¤.

### 3.3 ì§€ì› ëª¨ë¸ í˜„í™© (2026-01-03 ê¸°ì¤€)

| ë¡œë˜ | Transformer | LSTM | ë¹„ê³  |
| :--- | :---: | :---: | :--- |
| **Korea 6/45** | âœ… | âœ… | ê¸°ì¤€ ëª¨ë¸ |
| **USA Powerball** | âœ… | âœ… | Main 5 balls only |
| **USA MegaMillions** | âœ… | âœ… | Main 5 balls only |
| **Canada 6/49** | âœ… | âœ… | |
| **Japan Loto 6** | âŒ (Fallback) | âœ… | TF ë³€í™˜ ì—ëŸ¬ (ì¶”í›„ ìˆ˜ì •) |

---

## 4. ë°ì´í„° ë° ë§ˆì´ê·¸ë ˆì´ì…˜

### 4.1 Supabase ë§ˆì´ê·¸ë ˆì´ì…˜ (ì§„í–‰ ì¤‘)
- **ì „ëµ**: ë¡œì»¬ JSON íŒŒì¼ ì˜ì¡´ì„±ì„ ì ì§„ì ìœ¼ë¡œ ì œê±°í•˜ê³  Supabase DBë¡œ ì „í™˜.
- **í˜„ì¬ ì§„í–‰**:
  - í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ì„¤ê³„ ì™„ë£Œ (`lotto_draws`, `lotto_history`).
  - ë°ì´í„° ìˆ˜ì§‘ ìŠ¤í¬ë¦½íŠ¸(`collectors/`)ë¥¼ Supabase `UPSERT` ë°©ì‹ìœ¼ë¡œ ì „í™˜ ì˜ˆì •.
  - í”„ë¡ íŠ¸ì—”ë“œ(`app.js`)ëŠ” Supabase Clientë¥¼ ìš°ì„  ì‚¬ìš©í•˜ë„ë¡ êµ¬ì„±ë¨.

### 4.2 ë°ì´í„° ì»¤ë²„ë¦¬ì§€
- ğŸ‡°ğŸ‡· í•œêµ­ 6/45
- ğŸ‡ºğŸ‡¸ ë¯¸êµ­ Powerball, Mega Millions
- ğŸ‡¨ğŸ‡¦ ìºë‚˜ë‹¤ 6/49
- ğŸ‡¯ğŸ‡µ ì¼ë³¸ Loto 6 (ìµœê·¼ ì¶”ê°€ë¨, Github Data Source)

---

## 5. í–¥í›„ ê³„íš (Roadmap)

1.  **Backend Integration**: `api/main.py` ë° AI í•™ìŠµ ì½”ë“œë¥¼ Supabase ë°ì´í„° ì†ŒìŠ¤ì™€ ì™„ì „íˆ ì—°ë™.
2.  **Japan Loto 6 Transformer Fix**: ëª¨ë¸ êµ¬ì¡° ìˆ˜ì • ë° ì¬í•™ìŠµì„ í†µí•œ ONNX ë³€í™˜ ì—ëŸ¬ í•´ê²°.
3.  **Bonus Ball Support**: ë³´ë„ˆìŠ¤ ë²ˆí˜¸ ì˜ˆì¸¡ì„ ìœ„í•œ ëª¨ë¸ ì•„í‚¤í…ì²˜ í™•ì¥ (Optional).
4.  **UI Refinement**: `web/index.html` CSS ìµœì í™” (Pushed-to-edge ë ˆì´ì•„ì›ƒ ìˆ˜ì • ë“±).

---
